<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>ğŸ’Œ A Surprise For You</title>
    <meta name="description" content="A special surprise made with love">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Poppins:wght@300;400;600;700&family=Outfit:wght@300;400;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="debug"
        style="position:fixed; top:10px; left:10px; color:#0f0; background:#000; z-index:10000; font-family:monospace; padding:5px; font-size:16px; pointer-events:none;">
        Debug Init...</div>
    <!-- Premium Overlays -->
    <div class="overlay-noise"></div>
    <div class="overlay-vignette"></div>
    <div class="hearts-bg" id="heartsBg"></div>

    <!-- Sound Control -->
    <button id="soundToggle" class="sound-toggle" aria-label="Toggle Sound">ğŸ”‡</button>

    <!-- ============ SCREEN 1: INTRO ============ -->
    <section class="screen active" id="introScreen">
        <div class="intro-content">
            <div class="sparkle-ring">
                <span class="ring-particle" style="--i:0">âœ¦</span>
                <span class="ring-particle" style="--i:1">ğŸ’–</span>
                <span class="ring-particle" style="--i:2">âœ¦</span>
                <span class="ring-particle" style="--i:3">ğŸ’•</span>
                <span class="ring-particle" style="--i:4">âœ¦</span>
                <span class="ring-particle" style="--i:5">ğŸ’—</span>
            </div>
            <h1 class="intro-title">Hey Beautiful ğŸ’•</h1>
            <p class="intro-subtitle">I made something special just for you...</p>

            <div class="envelope-wrapper" id="envelopeBtn">
                <div class="envelope" id="envelope">
                    <div class="envelope-flap"></div>
                    <div class="envelope-body"></div>
                    <div class="envelope-letter"><span>ğŸ’Œ</span></div>
                </div>
                <p class="tap-text">Tap to open</p>
            </div>
        </div>
    </section>

    <!-- ============ SCREEN 2: CAR GAME ============ -->
    <section class="screen" id="gameScreen">
        <div class="game-ui" id="game-ui">
            <!-- Journey Progress -->
            <div class="journey-bar">
                <div class="journey-fill" id="journeyFill"></div>
                <div class="journey-markers" id="journeyMarkers"></div>
            </div>
            <div class="journey-label" id="journeyLabel">ğŸš— Starting from Jayanagar...</div>

            <!-- Game Canvas -->
            <canvas id="gameCanvas"></canvas>

            <!-- Touch Controls (Mobile) -->
            <div class="touch-controls">
                <button class="touch-btn" id="touchLeft">â—€</button>
                <button class="touch-btn" id="touchRight">â–¶</button>
            </div>

            <!-- Desktop hint -->
            <p class="controls-hint">Use â† â†’ arrow keys to steer</p>
        </div>
    </section>
    <!-- ============ SCREEN 2.5: MEMORY CARD GAME ============ -->
    <section class="screen" id="cardGameScreen">
        <div class="game-ui">
            <h2 class="intro-title" style="font-size: 2.5rem; margin-bottom: 20px;">Unlock the Surprise! ğŸ”</h2>
            <p class="intro-subtitle" style="margin-bottom: 20px;">Match the memories to open the love letter...</p>
            <div class="memory-game" id="memoryGame">
                <!-- Cards injected via JS -->
            </div>
        </div>
    </section>

    <!-- ============ SCREEN 3: HOME / LOVE LETTER ============ -->
    <section class="screen" id="finaleScreen">
        <div class="finale-content">
            <div class="confetti-container" id="confettiContainer"></div>

            <div class="home-arrival">
                <span class="home-emoji">ğŸ </span>
                <h2 class="home-title">You made it Home! ğŸ’•</h2>
            </div>

            <div class="love-letter" id="loveLetter">
                <div class="letter-deco tl">â€</div>
                <div class="letter-deco tr">â€</div>

                <h2 class="letter-title">To My Everything ğŸ’—</h2>

                <div class="letter-body" id="letterBody">
                    <p>Every moment with you feels like magic. From our silly laughs to our deep conversations, you make
                        everything better just by being you.</p>
                    <p>You're not just my girlfriend â€” you're my best friend, my safe place, and my favorite person in
                        the entire universe. ğŸŒŒ</p>
                    <p>I made this little game because every memory with you is something I want to hold onto forever.
                        Each photo, each moment â€” they're all treasures to me.</p>
                    <p>Thank you for being the most amazing, beautiful, kind, and wonderful human I know. I love you
                        more than words could ever say. ğŸ’•</p>
                    <p class="letter-signature">Forever yours,<br><span class="signature-name">Your Love ğŸ’‹</span></p>
                </div>

                <div class="letter-deco bl">â€</div>
                <div class="letter-deco br">â€</div>
            </div>

            <button class="replay-btn" id="replayBtn">Drive Again ğŸš—</button>
        </div>
    </section>

    <script src="script.js"></script>
</body>

</html>